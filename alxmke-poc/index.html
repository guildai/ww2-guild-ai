<!doctype html>
    <html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

        <title>Guild</title>

        <!-- TypeIt -->
        <script src="node_modules/typeit/dist/index.umd.js"></script>

        <!-- Driver.js -->
        <script src="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.js.iife.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.css"/>

        <style>
            .fade-in-text {
                font-family: Arial;
                font-size: 60px;
                animation: fade-in 5s;
                -webkit-animation: fade-in 5s;
                -moz-animation: fade-in 5s;
                -o-animation: fade-in 5s;
                -ms-animation: fade-in 5s;
            }

            .box {
                float: left;
                height: 20px;
                width: 20px;
                margin-bottom: 15px;
                border: 1px solid black;
                clear: both;
            }

            @keyframes fade-in {
                0% { opacity: 0; }
                100% { opacity: 1; }
            }

            @-moz-keyframes fade-in {
                0% { opacity: 0; }
                100% { opacity: 1; }
            }

            @-webkit-keyframes fade-in {
                0% { opacity: 0; }
                100% { opacity: 1; }
            }

            @-o-keyframes fade-in {
                0% { opacity: 0; }
                100% { opacity: 1; }
            }

            @-ms-keyframes fade-in {
                0% { opacity: 0; }
                100% { opacity: 1; }
            }
        </style>

        <script>
        function typeit_run(
            fade,
            term,
            script,
            script_frame,
            typeit_term,
        ) {
            fade.innerHTML = `
                <span class="fade-in-text" style="font-size: 18px;">
                    Run experiments and record results using <kbd style="font-size: 16px;">guild run</kbd>.
                </span>
            `
            let window_height = 440
            setDim(term, 700, window_height)
            script.style.height = `${window_height}px`
            script_frame.style.height = `${window_height}px`
            if (typeit_term) typeit_term.reset()
            typeit_term = new TypeIt("#TERMINAL", {
                lifeLike: true,
                startDelay: 200,
                speed: 50,
                waitUntilVisible: true,
                cursorChar: "▮",
                cursorSpeed: 0,
            })
                .options({speed: 0})
                .type("<span style=\"color: lime;\">~/project</span> $ ")
                .pause(4000)
                .options({speed: 75})
                .type("guild run your_script.py").break()
                .pause(200)
                .options({ speed: 0})
                .type("You are about to run your_script.py").break()
                .type("&nbsp;&nbsp;noise: 0.1").break()
                .type("&nbsp;&nbsp;x: 0.1").break()
                .type("Continue? (Y/n)")
                .pause(1400)
                .break()
                .pause(200)
                .type("x: 0.100000").break()
                .type("noise: 0.100000").break()
                .type("loss: 0.393393").break()
                .break()
                .type("<span style=\"color: lime;\">~/project</span> $ ")
                .options({speed: 75})
                .pause(400)
                .type("guild run your_script.py x=0.2 -y").break()
                .pause(200)
                .options({ speed: 0})
                .type("x: 0.200000").break()
                .type("noise: 0.100000").break()
                .type("loss: 0.820756").break()
                .break()
                .type("<span style=\"color: lime;\">~/project</span> $ ")
                .pause(1400)
                .options({speed: 75})
                .type("guild runs")
                .pause(400)
                .break()
                .pause(200)
                .options({ speed: 0})
                .type("[1:cb5559c8]  your_script.py  1970-01-01 00:00:00  completed  noise=0.1 x=0.2").break()
                .type("[2:ff880174]  your_script.py  1970-01-01 00:00:00  completed  noise=0.1 x=0.1").break()
                .break()
                .type("<span style=\"color: lime;\">~/project</span> $ ")
                .go()
            return typeit_term
        }
        function typeit_flags(
            fade,
            term,
            script,
            script_frame,
            typeit_term,
        ) {
            fade.innerHTML = `
                <span class="fade-in-text" style="font-size: 18px;">Configure parameters easily for any experiment.</span>
            `
            typeit_term.reset()
            typeit_term = new TypeIt("#TERMINAL", {
                lifeLike: true,
                startDelay: 200,
                speed: 50,
                waitUntilVisible: true,
                cursorChar: "▮",
                cursorSpeed: 0,
            })
                .options({speed: 0})
                .type("<span style=\"color: lime;\">~/project</span> $ ")
                .pause(3500)
                .options({speed: 75})
                .type("guild run your_script.py x=0.2").break()
                .pause(200)
                .options({ speed: 0})
                .type("You are about to run your_script.py").break()
                .type("&nbsp;&nbsp;noise: 0.1").break()
                .type("&nbsp;&nbsp;x: 0.2").break()
                .type("Continue? (Y/n)")
                .pause(1400)
                .break()
                .pause(200)
                .type("x: 0.200000").break()
                .type("noise: 0.100000").break()
                .type("loss: 0.820756").break()
                .break()
                .type("<span style=\"color: lime;\">~/project</span> $ ")
                .pause(1400)
                .options({speed: 75})
                .type("guild runs")
                .pause(400)
                .break()
                .pause(200)
                .options({ speed: 0})
                .type("[1:cb5559c8]  your_script.py  1970-01-01 00:00:00  completed  noise=0.1 x=0.2").break()
                .type("[2:ff880174]  your_script.py  1970-01-01 00:00:00  completed  noise=0.1 x=0.1").break()
                .break()
                .type("<span style=\"color: lime;\">~/project</span> $ ")
                .go()
            return typeit_term
        }
        function typeit_batch(
            fade,
            term,
            script,
            script_frame,
            typeit_term,
        ) {
            fade.innerHTML = `
                <span class="fade-in-text" style="font-size: 18px;">Run a batch of experiments.</span>
            `
            setDim(term, 890, 460)
            script.style.height = `460px`
            script_frame.style.height = `460px`
            typeit_term.reset()
            typeit_term = new TypeIt("#TERMINAL", {
                lifeLike: true,
                startDelay: 200,
                speed: 50,
                waitUntilVisible: true,
                cursorChar: "▮",
                cursorSpeed: 0,
            })
                .options({speed: 0})
                .type("<span style=\"color: lime;\">~/project</span> $ ")
                .pause(2500)
                .options({speed: 75})
                .type("guild run your_script.py x=\"[0.3, 0.4, 0.5]\" -y").pause(400).break()
                .pause(200)
                .options({ speed: 0})
                .type("INFO: [guild] Running trial cea7e92589124d8f9801eb93e0989a82: your_script.py (noise=0.1, x=0.3)").break()
                .type("x: 0.300000").break()
                .type("noise: 0.100000").break()
                .type("loss: 0.899266").break()
                .pause(400)
                .type("INFO: [guild] Running trial c1b4e1cfdb284bda969b0a8d589fe320: your_script.py (noise=0.1, x=0.4)").break()
                .type("x: 0.400000").break()
                .type("noise: 0.100000").break()
                .type("loss: 0.971279").break()
                .pause(400)
                .type("INFO: [guild] Running trial 79f3a3e562c3413aaae891bb4ace0624: your_script.py (noise=0.1, x=0.5)").break()
                .type("x: 0.500000").break()
                .type("noise: 0.100000").break()
                .type("loss: 0.440604").break()
                .break()
                .type("<span style=\"color: lime;\">~/project</span> $ ")
                .pause(1400)
                .options({speed: 75})
                .type("guild runs -n3").break()
                .pause(200)
                .options({ speed: 0})
                .type("[1:79f3a3e5]  your_script.py  1970-01-01 00:00:00  completed  noise=0.1 x=0.5").break()
                .type("[2:c1b4e1cf]  your_script.py  1970-01-01 00:00:00  completed  noise=0.1 x=0.4").break()
                .type("[3:cea7e925]  your_script.py  1970-01-01 00:00:00  completed  noise=0.1 x=0.3").break()
                .break()
                .type("<span style=\"color: lime;\">~/project</span> $ ")
                .go()
            return typeit_term
        }
        function typeit_opt(
            fade,
            term,
            script,
            script_frame,
            typeit_term,
        ) {
            fade.innerHTML = `
                <span class="fade-in-text" style="font-size: 18px;">Discover optimal values for your hyperparameters.</span>
            `
            setDim(term, 940, 570)
            script.style.height = `570px`
            script_frame.style.height = `570px`
            typeit_term.reset()
            typeit_term = new TypeIt("#TERMINAL", {
                lifeLike: true,
                startDelay: 200,
                speed: 50,
                waitUntilVisible: true,
                cursorChar: "▮",
                cursorSpeed: 0,
            })
                .options({speed: 0})
                .type("<span style=\"color: lime;\">~/project</span> $ ")
                .pause(2500)
                .options({speed: 75})
                .type("guild run your_script.py x=\"[-2.0:2.0]\" --optimizer gp --max-trials 3 -y").pause(400).break()
                .pause(200)
                .options({ speed: 0})
                .type("INFO: [guild] Random start for optimization (1 of 3)").break()
                .type("INFO: [guild] Running trial 4ddc22163c5b48da962edf932b0a38c8: your_script.py (noise=0.1, x=0.062721)").break()
                .type("x: 0.062721").break()
                .type("noise: 0.100000").break()
                .type("loss: 0.192272").break()
                .pause(400)
                .type("INFO: [guild] Random start for optimization (2 of 3)").break()
                .type("INFO: [guild] Running trial 92fdd8cedbd248e4a9da54fc2cb4016c: your_script.py (noise=0.1, x=1.389857)").break()
                .type("x: 1.389857").break()
                .type("noise: 0.100000").break()
                .type("loss: 0.004937").break()
                .pause(400)
                .type("INFO: [guild] Random start for optimization (3 of 3)").break()
                .type("INFO: [guild] Running trial 3d09e42745c146ffacf97d4a22f228a8: your_script.py (noise=0.1, x=-0.948398)").break()
                .type("x: -0.948398").break()
                .type("noise: 0.100000").break()
                .type("loss: 0.394093").break()
                .break()
                .type("<span style=\"color: lime;\">~/project</span> $ ")
                .pause(1400)
                .options({speed: 75})
                .type("guild runs -n4").break()
                .pause(200)
                .options({ speed: 0})
                .type("[1:0e449784]  your_script.py           1970-01-01 00:00:00  completed  noise=0.1 x=1.44592").break()
                .type("[2:b542e4e1]  your_script.py           1970-01-01 00:00:00  completed  noise=0.1 x=-1.14257").break()
                .type("[3:88b7b994]  your_script.py           1970-01-01 00:00:00  completed  noise=0.1 x=0.84936").break()
                .type("[4:da9eb322]  your_script.py+skopt:gp  1970-01-01 00:00:00  completed  acq-func=gp_hedge kappa=1.96 noise=gaussian prev-trials=batch random-starts=3 xi=0.05").break()
                .break()
                .type("<span style=\"color: lime;\">~/project</span> $ ")
                .go()
            return typeit_term
        }
        function typeit_view(
            fade,
            term,
            script,
            script_frame,
            typeit_term,
        ) {
            fade.innerHTML = `
                <span class="fade-in-text" style="font-size: 18px;">
                    Visualize, organize, and analyze your experiments with <kbd style="font-size: 16px;">guild view</kbd>.
                </span>
            `
            setDim(term, 660, 440)
            script.style.display = `none`
            script.style.height = `440px`
            script_frame.style.height = `440px`
            typeit_term.reset()
            typeit_term = new TypeIt("#TERMINAL", {
                lifeLike: true,
                startDelay: 200,
                speed: 50,
                waitUntilVisible: true,
                cursorChar: "▮",
                cursorSpeed: 0,
            })
                .options({speed: 0})
                .type("<span style=\"color: lime;\">~/project</span> $ ")
                .pause(4500)
                .options({speed: 75})
                .type("guild view").pause(400).break()
                .pause(200)
                .options({ speed: 0})
                .type("TODO: ADD VIEW")
                .go()
            return typeit_term
        }
        </script>
    </head>
    <body style="background-color: lightgray;">
        <div class="d-flex justify-content-center" style="margin-top: 15px;">
            <!-- src="https://guild.ai/assets/icons/folder-check.svg" -->
            <img
                class="feature-icon"
                src="https://guild.ai/assets/icons/folder-check.svg"
                alt="Experiment"
                style="margin: 0px 15px 5px 15px;"
            > Experiment
            <img
                class="feature-icon"
                src="https://guild.ai/assets/icons/hierarchy.svg"
                alt="Automate"
                style="margin: 0px 15px 5px 15px;"
            > Automate
            <img
                class="feature-icon"
                src="https://guild.ai/assets/icons/analytics-graph.svg"
                alt="Analyze"
                style="margin: 0px 15px 5px 15px;"
            > Analyze
            <img
                class="feature-icon"
                src="https://guild.ai/assets/icons/common-file-text-share.svg"
                alt="Share"
                style="margin: 0px 15px 5px 15px;"
            > Share
        </div>
        
        <div class="d-flex justify-content-center" style="margin-top: 24px;">
            <kbd class="lang-command" id="gpips">$ pip install guildai</kbd>
        </div>
        <br>
        

        <script>
        function newItem(
            parent,
            id,
            type,
            style,
            cls,
            width,
            height,
            inner_html,
        ) {
            
            let dim_style=`
                width: ${width};
                height: ${height};
            `
            style+=dim_style
            type = document.createElement(type)
            type.setAttribute("id", id)
            type.setAttribute("style", style)
            type.setAttribute("class", cls)
            type.setAttribute("width", width)
            type.setAttribute("height", height)
            type.innerHTML = inner_html
            document.getElementById(parent).appendChild(type)
        }

        function setDim(elem, width, height) {
            elem.style.width = `${width}px`
            elem.style.height = `${height}px`
        }
        </script>

        <div id="PARENT-DIV" class="row justify-content-md-center"></div>
        <script>
        let term_style=`
            margin-top: 24px;
            margin-right: 10px;
            margin-left: 10px;
            background-color: black;
            color: white;
            font-family: Courier New, Courier, monospace;
            font-size: 15px;
        `

        newItem(
            parent="PARENT-DIV",
            id="FADE",
            type="div",
            style="",
            cls="d-flex justify-content-center",
            width="",
            height="",
            inner_html = `
                <span class="fade-in-text" style="font-size: 18px;">
                    Run experiments and record results using <span style="color:bisque;">guild run</span>.
                </span>
            `
        )
        newItem(
            parent="PARENT-DIV",
            id="SCRIPT",
            type="div",
            style="margin-right: 10px; margin-left: 10px;",
            cls="col-md-4",
            width="700px",
            height="440px",
            inner_html=`
                <label style="color:bisque; background-color: #26292f; border-radius: 10px 10px 0 0;">
                    <span style="margin: 0 10px 0 10px;">your_script.py</span>
                </label>
                <iframe id="SCRIPT-FRAME" src="train.html" width="660" height="440">Not supported</iframe>
            `,
        )
        newItem(
            parent="PARENT-DIV",
            id="TERMINAL",
            type="div",
            style=term_style,
            cls="col-md-4",
            width="700px",
            height="440px",
            inner_html="",
        )

        fade = document.getElementById("FADE")
        script = document.getElementById("SCRIPT")
        script_frame = document.getElementById("SCRIPT-FRAME")
        term = document.getElementById("TERMINAL")

        typeit_term = typeit_run(
            fade,
            term,
            script,
            script_frame,
            null,
        )
        </script>

        <div class="d-flex justify-content-center" style="margin-top: 24px;">
            <button type="button" id="driverjs_tour" onclick="driverjs_tour()">Start Driver.js Tour</button>
        </div>
        <script>
        function driverjs_tour() {
            const Driver = window.driver.js.driver

            const driver = Driver({
                showProgress: true,
                steps: [
                    {   element: '#PARENT-DIV',
                        popover: {
                            title: 'Experiments',
                            description: 'Run experiments.',
                            onNextClick: () => {
                                typeit_term = typeit_batch(
                                    fade,
                                    term,
                                    script,
                                    script_frame,
                                    typeit_term,
                                )
                                driver.moveNext()
                            },
                        },
                        onDeselected: () => {
                            // document.querySelector(".dynamic-el")?.remove()
                            console.log("DESELCTED")
                        },
                    },

                    {   element: '#PARENT-DIV',
                        popover: {
                            title: 'Batches',
                            description: 'Run a batch of experiments.',
                            onNextClick: () => {
                                typeit_term = typeit_opt(
                                    fade,
                                    term,
                                    script,
                                    script_frame,
                                    typeit_term,
                                )
                                driver.moveNext()
                            },
                        },
                    },

                    {   element: '#PARENT-DIV',
                        popover: {
                            title: 'Optimize',
                            description: 'Find optimal values for your script.',
                            onNextClick: () => {
                                typeit_term = typeit_view(
                                    fade,
                                    term,
                                    script,
                                    script_frame,
                                    typeit_term,
                                )
                                driver.moveNext()
                            },
                        },
                    },
                ]

            })
            driver.drive()
        }
        </script>

        <br>
        <script>
        function test_click(id, btn) {
            document.getElementById(id).style.display = 'block'
            document.getElementById(btn).style.display = 'none'
        }
        </script>
        <button
            id="test-hide-btn"
            onclick="test_click('test-spanner', 'test-hide-btn')"
            style="display: none;"
        >
            Test Click
        </button>

        <span
            id="test-spanner"
            style="display: none;"
        >
            NOW MY TEXT IS SHOWING
        </span>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
        <script src="https://unpkg.com/typeit@8.7.1/dist/index.umd.js"></script>

    </body>
    </html>